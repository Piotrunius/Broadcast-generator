<!doctype html>
<html lang="es">

  <head>
    <meta charset="utf-8" />
    <style>
      /* Prevent flash of unstyled content (FOUC) */
      html.pre-init body {
        visibility: hidden;
      }

      html.pre-init * {
        animation: none !important;
        transition: none !important;
      }

      @media (max-width: 1100px) {
        .updates-panel {
          display: none !important;
        }
      }
    </style>
    <script>
      // Hide until CSS/JS are ready and apply performance mode early
      document.documentElement.classList.add('pre-init');
      if (localStorage.getItem('broadcast-generator-performance-mode') === 'true') {
        document.documentElement.classList.add('performance-mode');
      }
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Control Panel</title>
    <link rel="icon" type="image/png" href="../../assets/icons/scp-logo.png" />
    <script defer src="https://umami-proxy.piotrunius.workers.dev/script.js"
      data-website-id="933e33b2-1c22-42cf-b978-140f25ac6920"></script>

    <!-- Home page styling -->
    <link rel="stylesheet" href="../../src/styles/pages/home.css" />
    <link rel="stylesheet" href="../../src/styles/base/animations.css" />
    <link rel="stylesheet" href="../../src/styles/base/responsive.css" />
    <link rel="stylesheet" href="../../src/styles/feedback.css" />
  </head>

  <body>
    <div class="home-layout">
      <div class="updates-panel">
        <center>
          <h2>UPDATES LOG</h2>
        </center>
        <ul>
          <center>
            <p>---5/1/2026---</p>
          </center>
          <li>Removed the icons for the status menu</li>
          <li>Added colors and animations for the menus on the broadcast simple page</li>
          <li>Added de ability to modify the simple broadcast</li>
          <li>Fixed the simple broadcast page UI on low resolutions</li>
        </ul>
        <ul>
          <ul>
            <center>
              <p>---3/1/2026---</p>
            </center>
            <li>Broadcast Generator advanced mode added</li>
            <li>New animations for the site</li>
            <li>New credits page</li>
            <li>Performance mode added</li>
            <li>Easter eggs on advanced mode</li>
          </ul>
          <ul>
            <center>
              <p>---15/12/2025---</p>
            </center>
            <li>Fixed 076 event and 610 event custom message when selection them with SITE LOCKDOWN</li>
          </ul>
          <ul>
            <center>
              <p>---12/12/2025---</p>
            </center>
            <li>Fixed SCP-914 guideline panel</li>
          </ul>
          <ul>
            <center>
              <p>---12/12/2025---</p>
            </center>
            <li>Broadcast Generator updated</li>
            <li>Added a new EVENTS menu</li>
            <li>Added SCP-323 breach</li>
            <li>Improved SCP event logic</li>
            <li>UI adjustments</li>
          </ul>
          <ul>
            <center>
              <p>---12/12/2025---</p>
            </center>
            <li>Added SCP-914 Recipes</li>
            <li>UI adjustments</li>
          </ul>
          <ul>
            <center>
              <p>---2/12/2025---</p>
            </center>
            <li>Broadcast Generator updated</li>
            <li>Added SCP-035, SCP-008, SCP-409, SCP-701</li>
            <li>"CON-X and ID" button added</li>
            <li>"BACK" button added</li>
            <li>UI adjustments and bug fixes</li>
          </ul>
          <ul>
            <center>
              <p>---28/11/2025---</p>
            </center>
            <li>Broadcast Generator added</li>
            <li>Normal functions</li>
          </ul>
      </div>

      <main class="menu-wrap">
        <div class="home-header">
          <img src="../../assets/icons/scp-logo.png" alt="SCP Logo" class="header-logo" />
          <div class="header-content">
            <h1>- Control Panel -</h1>
            <p>SCP Site Roleplay — Secure Broadcast Interface</p>
          </div>
        </div>

        <div class="options-row">
          <!-- Broadcast Generator -->
          <section class="menu-box">
            <h2>Broadcast Generator</h2>
            <p>A broadcast generator made for SCP site Roleplay</p>
            <button class="main-btn" onclick="window.location.href = '../broadcast/simple/index.html'">
              Broadcast Generator
            </button>
          </section>

          <!-- SCP-914 -->
          <section class="menu-box scp914-box">
            <h2>SCP-914 Recipes</h2>
            <p>All SCP-914 recipes u can make on the game SCP Site Roleplay</p>
            <button class="main-btn" onclick="window.location.href = '../scp-914/index.html'">
              SCP-914 RECIPES
            </button>
          </section>
        </div>
        <footer class="footer">
          <div class="resources-container">
            <button class="resources-toggle" id="resourcesToggle" aria-label="Toggle resources" aria-expanded="false">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 18l6-6-6-6" />
              </svg>
            </button>
            <div class="external-links" id="externalLinks" aria-label="Resources">
              <a class="link-btn"
                href="https://visceraleds-scp-site-roleplay.fandom.com/wiki/Visceraled's_SCP:_Site_Roleplay_Wiki"
                target="_blank" rel="noopener noreferrer">Fandom Wiki</a>
              <a class="link-btn" href="https://scpsiteroleplay.miraheze.org/wiki/Visceraled's_SCP:_Site_Roleplay_Wiki"
                target="_blank" rel="noopener noreferrer">Miraheze Wiki</a>
              <a class="link-btn"
                href="https://docs.google.com/document/d/1E9COV22lsYdjOyBqmb_e4M2eQc-cHMHJJdtScDIDUjo/edit?tab=t.0"
                target="_blank" rel="noopener noreferrer">Rulebook</a>
              <a class="link-btn" href="https://discord.com/channels/567122927859007514/1442245435543785573"
                target="_blank" rel="noopener noreferrer">Forum Discord</a>
            </div>
          </div>
          <small>victorbot365 • Control Panel</small>
        </footer>
      </main>
      <div class="credits-panel">
        <h2>CREDITS</h2>
        <p><strong>Project Lead: Victorbot365</strong> </p>
        <p><strong>Developer: Piotrunius</strong></p>
        <p><strong>Special Thanks:</strong> SCP Site Roleplay Community</p>

        <button class="main-btn" onclick="window.location.href='credits.html'">
          OPEN CREDITS
        </button>
      </div>
    </div>
    <div class="home-copyright">© <span id="copyright-year"></span> victorbot365 — All rights reserved.</div>
    <script>
      // Auto-update copyright year
      document.getElementById('copyright-year').textContent = new Date().getFullYear();
    </script>
    <script src="../../src/scripts/core/animation-controller.js"></script>
    <script src="../../src/scripts/core/particles.js"></script>
    <script src="../../src/scripts/core/button-effects.js"></script>
    <script type="module" src="../../src/scripts/core/performance-mode.js"></script>
    <script src="../../src/scripts/core/feedback-system.js"></script>
    <script type="module">
      import { initPerformanceToggle } from '../../src/scripts/core/performance-toggle.js';
      import { initAudioToggle } from '../../src/scripts/core/audio-toggle.js';
      import { AudioManager } from '../../src/scripts/utils/audio-manager.js';
      import { trackEvent, trackNavigation } from '../../src/scripts/utils/umami-tracker.js'; // Umami tracking

      initPerformanceToggle();
      initAudioToggle();

      // Initialize audio manager for home page
      const audioManager = window.audioManager || new AudioManager();
      window.audioManager = audioManager;

      // Toggle resources panel
      const toggle = document.getElementById('resourcesToggle');
      const links = document.getElementById('externalLinks');

      toggle?.addEventListener('click', () => {
        const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
        toggle.setAttribute('aria-expanded', !isExpanded);
        toggle.classList.toggle('expanded');
        links.classList.toggle('show');
        audioManager.playClickSound();

        // Umami tracking: Track resources toggle
        trackEvent('Resources_Toggle', { expanded: !isExpanded });
      });

      // Add hover/click sounds to all buttons
      const buttons = document.querySelectorAll('.main-btn, .link-btn, .resources-toggle');
      buttons.forEach(btn => {
        btn.addEventListener('mouseenter', () => audioManager.playHoverSound());
        btn.addEventListener('click', () => audioManager.playClickSound());
      });

      // Umami tracking: Track main navigation buttons
      const broadcastBtn = document.querySelector('button.main-btn[onclick*="broadcast/simple"]');
      if (broadcastBtn) {
        broadcastBtn.addEventListener('click', () => {
          trackNavigation('broadcast_simple', 'home');
        });
      }

      const scp914Btn = document.querySelector('button.main-btn[onclick*="scp-914"]');
      if (scp914Btn) {
        scp914Btn.addEventListener('click', () => {
          trackNavigation('scp914', 'home');
        });
      }

      const creditsBtn = document.querySelector('button.main-btn[onclick*="credits"]');
      if (creditsBtn) {
        creditsBtn.addEventListener('click', () => {
          trackNavigation('credits', 'home');
        });
      }

      // Umami tracking: Track external links
      const linkBtns = document.querySelectorAll('.link-btn');
      linkBtns.forEach(link => {
        link.addEventListener('click', () => {
          const linkText = link.textContent.trim();
          trackEvent('External_Link_Clicked', { link: linkText });
        });
      });
    </script>
    <script>
      // Reveal after load to avoid flicker and let animations play
      const reveal = () => {
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            document.documentElement.classList.remove('pre-init');
          });
        });
      };
      if (document.readyState === 'complete') {
        reveal();
      } else {
        window.addEventListener('load', reveal, { once: true });
      }
    </script>
  </body>

</html>
